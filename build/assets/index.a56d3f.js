webpackJsonp([1],{16:function(e,t){function n(){return Math.floor(65536*(1+Math.random()))}e.exports={uuid:function(){return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()},getCoordinatesForPercent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{x:Math.cos(2*Math.PI*e)*t,y:Math.sin(2*Math.PI*e)*t}},randomColor:function(){return"rgba("+Math.round(255*Math.random(0,1))+", "+Math.round(255*Math.random(0,1))+", "+Math.round(255*Math.random(0,1))+", "+1*Math.random(.5,1)+")"},configW:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t<=0?1-t:1/Math.sqrt(1+Math.pow(2*Math.PI/Math.log(1/(t*t)),2)),r=2*Math.PI/e/Math.max(Math.sqrt(1-n*n),.5);return[r*r,2*r*n]}}},17:function(e,t){},37:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var m=n(0),y=n.n(m),v=n(13),b=n.n(v),g=n(1),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.render=function(){var e=n.props,t=e.index,r=e.p,a=e.active,o=e.handleAnimate,i=e.handleDelete,l=e.half;return y.a.createElement(g.Motion,{key:t,style:{scale:Object(g.spring)(a?1.1:1,{stiffness:1e3,damping:20})}},function(e){var s=e.scale;return y.a.createElement("path",{id:"pie-"+t,d:"M0 0 L"+r.startPoint.x+" "+r.startPoint.y+" A"+l+" "+l+" 0 "+r.large+" 1 "+r.endPoint.x+" "+r.endPoint.y,fill:r.fill,"data-per":r.per,style:{filter:a?"url(#shadow)":null,transform:"scale("+s+")"},onMouseOver:o.bind(n,!0,t),onDoubleClick:i.bind(n,t),strokeWidth:1})})},n.state={loading:!0},n}return o(t,e),w(t,[{key:"componentDidMount",value:function(){this.setState({loading:!1})}},{key:"componentDidUpdate",value:function(e,t,n){}}]),t}(y.a.Component),E=_,O=n(16);n(17);var M=50,x=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));j.call(n);var r=n.props.size||400;return n.state={animate:!1,index:null,newArr:[],sum:0,stiffness:M,size:r,r:r/2},n.defaultStye={translateX:0,translateY:0},n}return s(t,e),t}(y.a.Component),j=function(){var e=this;this.componentWillMount=function(){e.__init_v2([10,20,30]),document.body.addEventListener("keydown",e.__bodyKeyDown.bind(e,"down"),!0),document.body.addEventListener("keyup",e.__bodyKeyDown.bind(e,"up"),!0)},this.__bodyKeyDown=function(t,n){n.keyCode,"darwin"===e.context.platform?n.metaKey:n.ctrlKey,n.shiftKey;83===n.keyCode&&e.setState({stiffness:"down"===t?1:M}),82===n.keyCode&&"down"===t&&e.__init_v2(new Array(Math.round(35*Math.random())).fill(100*Math.random(0,1)))},this.componentDidMount=function(){},this.__init_v2=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e.state.newArr,r=e.state.sum,a=[],o=t.reduce(function(e,t){return e+t},0),i=0;i<Math.max(n.length,t.length);i++){var l=n[i],s=(t[i]?t[i]:0)/o;a.push({fill:l?l.fill:Object(O.randomColor)(),v:s*(r||o)||0,animateV:l&&l.animateV?l.animateV:0,prevEnd:l&&l.prevEnd?l.prevEnd:0})}e.setState({newArr:a,sum:r||o,index:null})},this.__init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e.state.newArr,r=[],a=0,o=t.reduce(function(e,t){return e+t},0);t.forEach(function(e,t){var o=n[t];a+=e;var i={fill:o?o.fill:Object(O.randomColor)(),stroke:Object(O.randomColor)(),acc:a-e,v:e,animateV:0};r.push(i)}),e.setState({newArr:r,sum:o,index:null})},this.handleAnimate=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;setTimeout(function(){e.setState({animate:t,index:n})},r)},this.handleDelete=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.setState({sum:e.state.sum-e.state.newArr[t].v})},this.__getDefaultStyles=function(e){return e.map(function(e){return{v:e.animateV||0,prevEnd:e.prevEnd||0}})},this.__getStyle=function(t){var n=e.state.newArr,r=0;return n.map(function(a,o){var i=n[o],l=o>0?t[o-1]:{},s=l&&l.v?l.v:0;return r+=s,{v:Object(g.spring)(i.v,{stiffness:e.state.stiffness,damping:18}),prevEnd:r}})},this.render=function(){var t=e.state,n=t.newArr,r=t.sum,a=t.size,o=a/2;return y.a.createElement(g.StaggeredMotion,{defaultStyles:e.__getDefaultStyles(n),styles:e.__getStyle,key:Object(O.uuid)()},function(t){return y.a.createElement("svg",{width:a,height:a,className:"turntable",viewBox:"-"+o+" -"+o+" "+a+" "+a},y.a.createElement("defs",null,y.a.createElement("filter",{id:"shadow"},y.a.createElement("feDropShadow",{stdDeviation:"1"}))),y.a.createElement("rect",{x:-o,y:-o,width:a,height:a,fill:"rgba(0,0,0,0)",onMouseOver:e.handleAnimate.bind(e,!1,e.state.index)}),t.map(function(t,a){var i=t.v,l=t.prevEnd;if(!i)return null;var s=Object.assign({},n[a]);return n[a].animateV=i,n[a].prevEnd=l,y.a.createElement(E,{index:a,active:a===e.state.index&&e.state.animate,half:o,p:Object.assign({},s,{large:i>=r/2?1:0,startPoint:Object(O.getCoordinatesForPercent)(l/e.state.sum,o),endPoint:Object(O.getCoordinatesForPercent)((l+i)/e.state.sum,o)}),handleAnimate:e.handleAnimate,handleDelete:e.handleDelete,key:"path-"+a,per:i})}),y.a.createElement("use",{xlinkHref:e.state.animate?"#pie-"+e.state.index:null,onMouseLeave:e.handleAnimate.bind(e,!1,e.state.index)}),y.a.createElement("text",{x:200,y:-200,style:{transform:"rotate(90deg)"}},"now slices:"+n.filter(function(e){return 0!==e.v}).length))})}},P=x,A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e){function t(e){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.render=function(){var e=n.props,t=e.index,r=e.p,a=e.active,o=e.handleAnimate,i=e.half,l=e.rotate;return y.a.createElement(g.Motion,{style:{scale:Object(g.spring)(a?1.1:1,{stiffness:1e3,damping:20})}},function(e){var s=e.scale;return y.a.createElement("path",{id:"pie-"+t,d:"M0 0 L"+r.startPoint.x+" "+r.startPoint.y+" A"+i+" "+i+" 0 "+r.large+" 1 "+r.endPoint.x+" "+r.endPoint.y,fill:r.fill,"data-per":r.per,onMouseOver:o.bind(n,!0,t),style:{filter:a?"url(#shadow)":null,transform:"scale("+(l?1.1:s)+")"+(l?" rotateX(-180deg)":"")}})})},n.state={loading:!0},n}return f(t,e),A(t,[{key:"componentDidMount",value:function(){this.setState({loading:!1})}}]),t}(y.a.Component),S=C;n(17);var k=(function(e){function t(e){d(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));k.call(n);var r=n.props.size||400;return n.state={animate:!1,index:null,newArr:[],sum:0,stiffness:1,size:r,r:r/2,loaded:!1},n.defaultStye={translateX:0,translateY:0},n}p(t,e)}(y.a.Component),function(){var e=this;this.componentWillMount=function(){e.__init([10,20]),document.body.addEventListener("keydown",e.__bodyKeyDown.bind(e,"down"),!0),document.body.addEventListener("keyup",e.__bodyKeyDown.bind(e,"up"),!0)},this.__bodyKeyDown=function(t,n){n.keyCode,"darwin"===e.context.platform?n.metaKey:n.ctrlKey,n.shiftKey;83===n.keyCode&&e.setState({stiffness:"down"===t?50:1})},this.componentDidMount=function(){},this.__init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],r=0,a=t.reduce(function(e,t){return e+t},0);t.forEach(function(t){var o=Object(O.getCoordinatesForPercent)(r/a,e.state.r);r+=t;var i={endPoint:Object(O.getCoordinatesForPercent)(r/a,e.state.r),startPoint:o,large:t>=a/2?1:0,fill:Object(O.randomColor)(),acc:r-t,v:t};n.push(i)}),e.setState({newArr:n,sum:a,index:null})},this.handleAnimate=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.state.loaded&&setTimeout(function(){e.setState({animate:t,index:n})},r)},this.loaded=function(){e.setState({loaded:!0})},this.render=function(){var t=e.state,n=t.newArr,r=t.sum,a=t.size,o=a/2;return 0===n.length?y.a.createElement("svg",null):y.a.createElement("svg",{width:a,height:a,className:"turntable",viewBox:"-"+o+" -"+o+" "+a+" "+a},y.a.createElement("defs",null,y.a.createElement("filter",{id:"shadow"},y.a.createElement("feDropShadow",{stdDeviation:"1"}))),y.a.createElement("rect",{x:-o,y:-o,width:a,height:a,fill:"rgba(0,0,0,0)",onMouseOver:e.handleAnimate.bind(e,!1,e.state.index)}),n.map(function(t,n){return y.a.createElement(S,{index:n,active:n===e.state.index&&e.state.animate,half:o,p:t,handleAnimate:e.handleAnimate,key:"path-"+n})}),y.a.createElement("use",{xlinkHref:e.state.animate?"#pie-"+e.state.index:null,onMouseLeave:e.handleAnimate.bind(e,!1,e.state.index)}),y.a.createElement(g.Motion,{style:{v:Object(g.spring)(0,{stiffness:e.state.stiffness,damping:20})},defaultStyle:{v:r},onRest:e.loaded},function(t){var n=t.v;return y.a.createElement(S,{index:null,active:!1,half:o,p:{startPoint:Object(O.getCoordinatesForPercent)(1,e.state.r),endPoint:Object(O.getCoordinatesForPercent)(n/r,e.state.r),large:n>=r/2?1:0,fill:"white"},handleAnimate:function(){},rotate:!0})}))}}),D=function(){return y.a.createElement("div",{className:"root-panel"},y.a.createElement(P,null))},K=D;n(38),b.a.render(y.a.createElement(K,null),document.getElementById("asd"))},38:function(e,t){}},[37]);
//# sourceMappingURL=index.a56d3f.js.map